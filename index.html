<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="DUALSHOCK - Official DJ Portfolio & Music Repository">
    <title>dualshock</title>
    
    <link rel="icon" type="image/png" href="assets/dsfavicon.png">

    <style>
        @font-face {
            font-family: 'BrandFont';
            src: url('assets/fonts/dualshock-font.ttf') format('truetype');
            font-weight: normal;
            font-style: normal;
        }

        :root {
            --bg: #000000;
            --fg: #ffffff;
            --blue: #0000ff;
            --grey: #333333;
            --font-main: 'Inter', -apple-system, system-ui, sans-serif;
            --font-mono: 'SF Mono', 'Roboto Mono', monospace;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: var(--bg);
            color: var(--fg);
            font-family: var(--font-main);
            -webkit-font-smoothing: antialiased;
            min-height: 100vh;
            overflow: hidden; /* Default for desktop landing */
        }

        #starfield {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: #000;
            transition: opacity 1.0s ease-in-out;
            opacity: 1;
        }

        .top-nav {
            width: 100%;
            padding: 20px;
            position: fixed;
            top: 0;
            background: rgba(0, 0, 0, 0.3); 
            backdrop-filter: blur(5px);
            z-index: 1000;
        }

        .nav-container {
            max-width: 1600px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .brand a {
            font-family: 'BrandFont', sans-serif;
            color: var(--fg);
            text-decoration: none;
            font-size: 1.5rem;
            letter-spacing: 0.05em;
            cursor: pointer;
            transition: color 0.1s ease;
        }

        .brand a:hover { color: var(--blue); }

        .nav-links { display: flex; gap: 25px; }

        .nav-item {
            color: var(--fg);
            text-decoration: none;
            font-size: 0.85rem;
            padding: 2px 8px;
            cursor: pointer;
            transition: background 0.1s ease;
        }

        .nav-item:hover { background-color: var(--blue); }

        .content-section {
            display: none;
            max-width: 1200px;
            margin: 120px auto 100px auto; 
            padding: 0 40px;
            position: relative;
            z-index: 10;
        }

        .contact-info {
            font-family: var(--font-mono);
            font-size: 0.85rem;
            line-height: 2.5;
        }

        .contact-info a { color: var(--fg); text-decoration: none; }
        .contact-info a:hover { background-color: var(--blue); }

        .file-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            font-family: var(--font-mono);
            font-size: 0.85rem;
        }

        .file-main { display: flex; align-items: center; gap: 15px; }

        .file-link:hover { color: var(--blue); cursor: pointer; }

        .file-tags {
            font-size: 0.7rem;
            color: #666;
            text-transform: lowercase;
            display: flex;
            gap: 12px;
        }

        .tag-item { border: 1px solid #222; padding: 1px 6px; }

        .file-meta-right {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .file-size {
            font-size: 0.75rem;
            color: var(--fg);
            opacity: 0.8;
        }

        .dl-btn {
            color: var(--fg) !important;
            text-decoration: none;
            font-size: 1.1rem;
            padding: 0 5px;
        }

        .dl-btn:hover { color: var(--blue) !important; }

        .player-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            border-top: 1px solid var(--grey);
            padding: 20px;
            display: none; 
            z-index: 1000;
        }

        .player-container {
            max-width: 1600px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            gap: 40px;
        }

        .player-controls { display: flex; gap: 20px; font-size: 1.2rem; cursor: pointer; }
        .progress-container { flex-grow: 1; height: 20px; display: flex; align-items: center; cursor: pointer; position: relative; }
        .progress-bg { width: 100%; height: 1px; background: var(--grey); position: absolute; }
        .progress-fill { position: absolute; height: 1px; background: var(--fg); width: 0%; z-index: 1; }

        .track-display {
            display: flex;
            align-items: center;
            gap: 20px;
            font-family: var(--font-mono);
            font-size: 0.8rem;
            min-width: 300px;
            justify-content: flex-end;
        }

        /* MOBILE RESPONSIVE TWEAKS */
        @media (max-width: 768px) {
            body { overflow-y: auto; }
            .content-section { padding: 0 20px; margin-top: 100px; margin-bottom: 120px; }
            .file-row { flex-direction: column; align-items: flex-start; gap: 8px; padding: 16px 0; border-bottom: 1px solid #111; }
            .file-main { flex-direction: column; align-items: flex-start; gap: 6px; }
            .file-meta-right { width: 100%; justify-content: flex-end; gap: 20px; }
            .track-display #track-name { display: none; }
            .track-display { min-width: auto; }
            .player-container { gap: 20px; }
        }
    </style>
</head>
<body>

    <canvas id="starfield"></canvas>

    <nav class="top-nav">
        <div class="nav-container">
            <div class="brand"><a onclick="resetToLanding()">dualshock</a></div>
            <div class="nav-links">
                <span class="nav-item" onclick="showSection('contact')">contact</span>
                <span class="nav-item" onclick="showSection('music')">music</span>
            </div>
        </div>
    </nav>

    <main class="container">
        <section id="contact" class="content-section">
            <div class="contact-info">
                <p><a href="mailto:contact@dualshockmusic.com">contact@dualshockmusic.com</a></p>
                <p><a href="https://soundcloud.com/dualshockmusik" target="_blank">soundcloud</a></p>
                <p><a href="https://instagram.com/dualshockmusic" target="_blank">instagram</a></p>
            </div>
        </section>

        <section id="music" class="content-section">
            <div class="file-row">
                <div class="file-main">
                    <span class="file-link" onclick="handlePlay('talk dirty.mp3')">talk dirty.mp3</span>
                    <div class="file-tags">
                        <span class="tag-item">house</span>
                        <span class="tag-item">126 bpm</span>
                    </div>
                </div>
                <div class="file-meta-right">
                    <span class="file-size">8.4 mb</span>
                    <a href="audio/talk dirty.mp3" download class="dl-btn">↓</a>
                </div>
            </div>

            <div class="file-row">
                <div class="file-main">
                    <span class="file-link" onclick="handlePlay('promise.mp3')">promise.mp3</span>
                    <div class="file-tags">
                        <span class="tag-item">garage</span>
                        <span class="tag-item">132 bpm</span>
                    </div>
                </div>
                <div class="file-meta-right">
                    <span class="file-size">7.1 mb</span>
                    <a href="audio/promise.mp3" download class="dl-btn">↓</a>
                </div>
            </div>

            <div class="file-row">
                <div class="file-main">
                    <span class="file-link" onclick="handlePlay('magnolia.mp3')">magnolia.mp3</span>
                    <div class="file-tags">
                        <span class="tag-item">house</span>
                        <span class="tag-item">124 bpm</span>
                    </div>
                </div>
                <div class="file-meta-right">
                    <span class="file-size">9.2 mb</span>
                    <a href="audio/magnolia.mp3" download class="dl-btn">↓</a>
                </div>
            </div>

            <div class="file-row">
                <div class="file-main">
                    <span class="file-link" onclick="handlePlay('frame of mind.mp3')">frame of mind.mp3</span>
                    <div class="file-tags">
                        <span class="tag-item">techno</span>
                        <span class="tag-item">128 bpm</span>
                    </div>
                </div>
                <div class="file-meta-right">
                    <span class="file-size">10.5 mb</span>
                    <a href="audio/frame of mind.mp3" download class="dl-btn">↓</a>
                </div>
            </div>

            <div class="file-row">
                <div class="file-main">
                    <span class="file-link" onclick="handlePlay('hii.mp3')">hii.mp3</span>
                    <div class="file-tags">
                        <span class="tag-item">garage</span>
                        <span class="tag-item">130 bpm</span>
                    </div>
                </div>
                <div class="file-meta-right">
                    <span class="file-size">6.8 mb</span>
                    <a href="audio/hii.mp3" download class="dl-btn">↓</a>
                </div>
            </div>

            <div class="file-row">
                <div class="file-main">
                    <span class="file-link" onclick="handlePlay('acidity regulator.mp3')">acidity regulator.mp3</span>
                    <div class="file-tags">
                        <span class="tag-item">acid house</span>
                        <span class="tag-item">125 bpm</span>
                    </div>
                </div>
                <div class="file-meta-right">
                    <span class="file-size">11.2 mb</span>
                    <a href="audio/acidity regulator.mp3" download class="dl-btn">↓</a>
                </div>
            </div>
        </section>
    </main>

    <footer id="player-bar" class="player-bar">
        <div class="player-container">
            <div class="player-controls">
                <span onclick="togglePlayback()" id="play-icon">▶</span>
                <span onclick="closePlayer()">✕</span>
            </div>
            <div class="progress-container" onclick="seek(event)">
                <div class="progress-bg"></div>
                <div id="progress-fill" class="progress-fill"></div>
            </div>
            <div class="track-display">
                <span id="timestamp" style="opacity: 0.3; font-size: 0.7rem;">00:00 / 00:00</span>
                <span id="track-name">NO TRACK</span>
            </div>
        </div>
    </footer>

    <audio id="audio-engine" src=""></audio>

    <script>
        const canvas = document.getElementById('starfield');
        const ctx = canvas.getContext('2d');
        let width, height, stars = [];
        const STAR_COUNT = 700;
        
        const LANDING_SPEED = 0.8; 
        const CONTENT_SPEED = 0.6; 
        let currentSpeed = LANDING_SPEED;
        let targetSpeed = LANDING_SPEED;

        function initStars() {
            width = window.innerWidth;
            height = window.innerHeight;
            canvas.width = width;
            canvas.height = height;
            stars = [];
            for (let i = 0; i < STAR_COUNT; i++) {
                stars.push({
                    x: (Math.random() - 0.5) * width * 2,
                    y: (Math.random() - 0.5) * height * 2,
                    z: Math.random() * width
                });
            }
        }

        function drawStars() {
            ctx.fillStyle = 'black';
            ctx.fillRect(0, 0, width, height);
            currentSpeed += (targetSpeed - currentSpeed) * 0.02;
            for (let i = 0; i < STAR_COUNT; i++) {
                let s = stars[i];
                s.z -= currentSpeed;
                if (s.z <= 0) {
                    s.z = width;
                    s.x = (Math.random() - 0.5) * width * 2;
                    s.y = (Math.random() - 0.5) * height * 2;
                }
                const k = 128 / s.z;
                const px = s.x * k + width / 2;
                const py = s.y * k + height / 2;
                if (px >= 0 && px <= width && py >= 0 && py <= height) {
                    const size = (1 - s.z / width) * 1.8;
                    ctx.fillStyle = `rgba(255, 255, 255, ${1 - s.z / width})`;
                    ctx.beginPath();
                    ctx.arc(px, py, size, 0, Math.PI * 2);
                    ctx.fill();
                }
            }
            requestAnimationFrame(drawStars);
        }

        window.addEventListener('resize', initStars);
        initStars();
        drawStars();

        function showSection(id) {
            canvas.style.opacity = '0.3'; 
            targetSpeed = CONTENT_SPEED; 
            document.querySelectorAll('.content-section').forEach(s => s.style.display = 'none');
            document.getElementById(id).style.display = 'block';
            if(window.innerWidth <= 768) document.body.style.overflow = 'auto';
        }

        function resetToLanding() {
            canvas.style.opacity = '1';
            targetSpeed = LANDING_SPEED; 
            document.querySelectorAll('.content-section').forEach(s => s.style.display = 'none');
            if(window.innerWidth <= 768) document.body.style.overflow = 'hidden';
            window.scrollTo(0, 0);
        }

        const audio = document.getElementById('audio-engine');
        const playIcon = document.getElementById('play-icon');
        const progressFill = document.getElementById('progress-fill');
        const trackName = document.getElementById('track-name');
        const timestamp = document.getElementById('timestamp');
        const playerBar = document.getElementById('player-bar');

        function handlePlay(file) {
            playerBar.style.display = 'block';
            trackName.innerText = file;
            audio.src = `audio/${file}`;
            audio.play();
            playIcon.innerText = '⏸';
        }

        function togglePlayback() {
            if (audio.paused) { audio.play(); playIcon.innerText = '⏸'; } 
            else { audio.pause(); playIcon.innerText = '▶'; }
        }

        function closePlayer() { audio.pause(); playerBar.style.display = 'none'; }

        function formatTime(seconds) {
            const min = Math.floor(seconds / 60);
            const sec = Math.floor(seconds % 60);
            return `${min.toString().padStart(2, '0')}:${sec.toString().padStart(2, '0')}`;
        }

        audio.ontimeupdate = () => {
            if (audio.duration) {
                const pct = (audio.currentTime / audio.duration) * 100;
                progressFill.style.width = pct + '%';
                timestamp.innerText = `${formatTime(audio.currentTime)} / ${formatTime(audio.duration)}`;
            }
        };

        function seek(e) {
            const rect = e.currentTarget.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const width = rect.width;
            const pct = x / width;
            audio.currentTime = pct * audio.duration;
        }
    </script>
</body>
</html>